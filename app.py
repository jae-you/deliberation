import streamlit as st
import pandas as pd
import plotly.express as px

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(page_title="ëª¨ë‘ì˜ AI ê³µë¡ ì¥", layout="wide", initial_sidebar_state="expanded")

# UI ìŠ¤íƒ€ì¼ë§ (ë°ì€ í…Œë§ˆ ë° ì¹œì ˆí•œ ë””ìì¸)
st.markdown("""
    <style>
    .main { background-color: #ffffff; }
    .stTabs [data-baseweb="tab-list"] { gap: 30px; }
    .stTabs [data-baseweb="tab"] { height: 60px; font-size: 18px; font-weight: 700; color: #5d6d7e; }
    .info-card { background-color: #f8faff; padding: 20px; border-radius: 15px; border-left: 5px solid #3498db; }
    </style>
    """, unsafe_allow_html=True)

# ì‚¬ì´ë“œë°”
with st.sidebar:
    st.title("ğŸŒˆ ëª¨ë‘ì˜ AI ê³µë¡ ì¥")
    st.write("ìš°ë¦¬ ì‚¶ì˜ ë³€í™”ë¥¼ í•¨ê»˜ ê³ ë¯¼í•˜ê³  ë‹µì„ ì°¾ì•„ê°€ëŠ” ê³µê°„ì…ë‹ˆë‹¤.")
    st.divider()
    
    current_issue = st.selectbox(
        "í˜„ì¬ ì´ì•¼ê¸° ë‚˜ëˆ„ëŠ” ì£¼ì œ",
        ["AI ì—…ì¢… ì£¼ 52ì‹œê°„ì œ íŠ¹ë¡€ ë„ì…", "AI í•™ìŠµë°ì´í„°ì™€ ì €ì‘ê¶Œ ë³´í˜¸", "ëŒë´„ ë¡œë´‡ ë„ì…ì˜ ê°€ì´ë“œë¼ì¸"]
    )
    st.success("í˜„ì¬ 'ëŒ€ì•ˆ ì°¾ê¸°' ë‹¨ê³„ê°€ ì§„í–‰ ì¤‘ì´ì—ìš”!")

# ë©”ì¸ í—¤ë”
st.title(f"âœ¨ {current_issue}")
st.write("ë‹¨ìˆœí•œ ì°¬ë°˜ì„ ë„˜ì–´, ìš°ë¦¬ê°€ ì•ˆì‹¬í•˜ê³  ê¸°ìˆ ì„ ëˆ„ë¦´ ìˆ˜ ìˆëŠ” ì¡°ê±´ì„ í•¨ê»˜ ê³ ë¯¼í•©ë‹ˆë‹¤.")

# 4ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ íƒ­
tab1, tab2, tab3, tab4 = st.tabs(["ğŸ” ìŸì  ë“¤ì—¬ë‹¤ë³´ê¸°", "ğŸ’¬ í•¨ê»˜ ë‚˜ëˆ„ëŠ” ìˆ™ì˜", "ğŸš€ ì‹¤ì§€ë¡œ í•´ë³´ê¸°(ì‹¤ì¦)", "ğŸ“‚ ìš°ë¦¬ë“¤ì˜ ê¸°ë¡"])

# TAB 1: ìŸì  ì •ì˜
with tab1:
    st.subheader("ì´ ë¬¸ì œëŠ” ì™œ ì¤‘ìš”í•œê°€ìš”?")
    st.markdown("""
    <div class="info-card">
    AI ê¸°ìˆ ì´ ë¹ ë¥´ê²Œ ë°œì „í•˜ë©´ì„œ ê¸°ì¡´ì˜ ê·œì¹™ìœ¼ë¡œëŠ” ë‹´ê¸° ì–´ë ¤ìš´ ê³ ë¯¼ë“¤ì´ ìƒê²¨ë‚˜ê³  ìˆì–´ìš”. 
    ì„±ì¥ê³¼ ì•ˆì „, íš¨ìœ¨ê³¼ ê¶Œë¦¬ ì‚¬ì´ì˜ ê· í˜•ì ì„ ì°¾ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.
    </div>
    """, unsafe_allow_html=True)
    
    col1, col2 = st.columns(2)
    with col1:
        st.info("ğŸ’¡ ê¸°íšŒ: ê¸°ìˆ  ê²½ìŸë ¥ì´ ë†’ì•„ì§€ê³  ë³µì¡í•œ ì¼ì²˜ë¦¬ê°€ ë¹¨ë¼ì§‘ë‹ˆë‹¤.")
    with col2:
        st.warning("âš ï¸ ìœ„í—˜: ì¼ê³¼ íœ´ì‹ì˜ ê· í˜•ì´ ê¹¨ì§€ê±°ë‚˜ ì•ˆì „ ì‚¬ê³ ê°€ ê±±ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

    st.subheader("ì„œë¡œ ë‹¤ë¥¸ ìƒê°ë“¤ (ì´í•´ê´€ê³„ ì§€í˜•ë„)")
    st.image("https://via.placeholder.com/1000x300.png?text=Interactive+Stakeholder+Map+Graphic")

# TAB 2: ìˆ™ì˜ ì°¸ì—¬
with tab2:
    col_input, col_graph = st.columns([4, 5])
    
    with col_input:
        st.subheader("ë‚˜ì˜ ìƒê° ë³´íƒœê¸°")
        with st.form("input_form"):
            pos = st.radio("ë‚˜ì˜ í˜„ì¬ ì…ì¥ì€?", ["ì°¬ì„±í•´ìš”", "ë°˜ëŒ€í•´ìš”", "ë” ê³ ë¯¼ì´ í•„ìš”í•´ìš”"], horizontal=True)
            
            st.write("ì–´ë–¤ ì•½ì†ì´ ìˆë‹¤ë©´ ë§ˆìŒì´ ì¢€ ë” ë†“ì¼ê¹Œìš”?")
            c1 = st.checkbox("ì¶©ë¶„í•œ íœ´ì‹ ì‹œê°„ì„ ë²•ìœ¼ë¡œ ë³´ì¥í•œë‹¤ë©´")
            c2 = st.checkbox("ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ì±…ì„ì§ˆ ì£¼ì²´ê°€ ëª…í™•í•˜ë‹¤ë©´")
            c3 = st.checkbox("ì‘ì€ ê·œëª¨ë¡œ ë¨¼ì € í•´ë³´ê³  ê²°ê³¼ë¥¼ ê³µê°œí•œë‹¤ë©´")
            
            reasons = st.multiselect("ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê°€ì¹˜", ["ë…¸ë™ê¶Œ", "ì•ˆì „", "í˜ì‹ ", "ê³µì •", "ë¯¸ë˜ì„¸ëŒ€"])
            opinion = st.text_area("êµ¬ì²´ì ì¸ ì œì•ˆì´ë‚˜ ê²½í—˜ì´ ìˆë‹¤ë©´ ì ì–´ì£¼ì„¸ìš”.")
            
            if st.form_submit_button("ì˜ê²¬ ì†Œì¤‘íˆ ì „ë‹¬í•˜ê¸°"):
                st.balloons()
                st.success("ì˜ê²¬ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤! ë¶„ì„ ê²°ê³¼ì— ì†Œì¤‘íˆ ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤.")

    with col_graph:
        st.subheader("ì§€ê¸ˆê¹Œì§€ ëª¨ì¸ ìƒê°ì˜ ì§€ë„")
        chart_data = pd.DataFrame({
            "ì¡°ê±´": ["íœ´ì‹ë³´ì¥", "ì±…ì„ëª…í™•", "ë‹¨ê³„ì ì‹œí–‰"],
            "ê³µê°ë„(%)": [82, 68, 91]
        })
        fig = px.bar(chart_data, x="ì¡°ê±´", y="ê³µê°ë„(%)", color="ê³µê°ë„(%)", color_continuous_scale="Blues")
        st.plotly_chart(fig, use_container_width=True)

# TAB 3: ì‹¤ì¦ íŒŒì´í”„ë¼ì¸
with tab3:
    st.subheader("í–‰ë™ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ì‹¤ì¦ í”„ë¡œì íŠ¸")
    st.write("ê³µë¡  ê²°ê³¼ë¥¼ ì‹¤ì œ í˜„ì¥ì— ì ìš©í•˜ì—¬ ì •ì±… ì‹¤íš¨ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.") 
    
    test_data = pd.DataFrame([
        {"ë¶„ì•¼": "ë…¸ë™", "í”„ë¡œì íŠ¸ ëª…": "AI ê°œë°œì ì—°ì†íœ´ì‹ì œ íš¨ê³¼ ê²€ì¦", "ì§„í–‰": "ì¤€ë¹„ ì¤‘", "ì˜ˆì‚°": "2ì²œë§Œì›"},
        {"ë¶„ì•¼": "ì°½ì‘", "í”„ë¡œì íŠ¸ ëª…": "ê³µì •í•œ ìˆ˜ìµ ë°°ë¶„ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸", "ì§„í–‰": "ì˜ì œ ì„ ì •", "ì˜ˆì‚°": "2ì²œë§Œì›"},
        {"ë¶„ì•¼": "ê³µê³µ", "í”„ë¡œì íŠ¸ ëª…": "ì•ˆì „í•œ í–‰ì • AI ê°€ì´ë“œ ê²€ì¦", "ì§„í–‰": "ìˆ™ì˜ ì¤‘", "ì˜ˆì‚°": "2ì²œë§Œì›"}
    ])
    st.dataframe(test_data, use_container_width=True)

# TAB 4: ì •ì±… ì•„ì¹´ì´ë¸Œ
with tab4:
    st.subheader("ìš°ë¦¬ê°€ ë§Œë“  ë³€í™”ì˜ ê¸°ë¡")
    with st.expander("ğŸ“‚ [ì™„ë£Œ] í•™êµ í˜„ì¥ AI í™œìš© ê°€ì´ë“œë¼ì¸ ê²°ê³¼"):
        st.info("ìµœì¢… ê²°ê³¼: ì¡°ê±´ë¶€ ìˆ˜ìš© (êµì‚¬ì™€ í•™ìƒì˜ ë™ì˜ ì ˆì°¨ í•„ìˆ˜)")
        st.write("- ì°¸ì—¬ ì¸ì›: 5,420ëª…")
        st.write("- ì •ì±… ë°˜ì˜: ê´€ë ¨ ì§€ì¹¨ ì œ5ì¡°ì— ìˆ™ì˜ ê²°ê³¼ ëª…ë¬¸í™” ì™„ë£Œ")
